# Введение в Go Modules и пакеты

## Что такое Go Modules и зачем они нужны
Go Modules — это система управления зависимостями в языке Go, появившаяся в версии 1.11. Она позволяет:
- Работать вне `GOPATH`.
- Фиксировать версии зависимостей.
- Упрощать импорт и управление пакетами.

## Проблема GOPATH в старых версиях Go
Ранее все проекты размещались в `GOPATH`, что вызывало проблемы:
- Все зависимости скачивались в одно место, что мешало их версионированию.
- Невозможно было легко работать с несколькими версиями одной зависимости.

## Основные команды для работы с модулями

```sh
# Инициализация модуля
$ go mod init mymodule

# Добавление зависимости
$ go get example.com/pkg@latest

# Удаление неиспользуемых зависимостей
$ go mod tidy

# Обновление всех зависимостей
$ go get -u ./...
```

## Структура файла `go.mod` и `go.sum`
Файл `go.mod` описывает модуль и его зависимости:
```go
module mymodule

go 1.20

require (
    example.com/pkg v1.2.3
)
```
Файл `go.sum` содержит контрольные суммы зависимостей.

## Как создавать и импортировать собственные пакеты

```sh
# Создадим структуру проекта
$ mkdir -p mymodule/pkg/mypackage
$ touch mymodule/pkg/mypackage/mypackage.go
```

Пример кода для `mypackage.go`:
```go
package mypackage
import "fmt"

func SayHello() {
    fmt.Println("Hello from mypackage!")
}
```

Использование пакета в `main.go`:
```go
package main
import "mymodule/pkg/mypackage"

func main() {
    mypackage.SayHello()
}
```

## Пакеты и их структура
Принято разделять код по логическим модулям:
```
project/
├── cmd/           # Исполняемые файлы
├── internal/      # Внутренние пакеты
├── pkg/           # Внешние пакеты
├── go.mod         # Файл модуля
├── go.sum         # Контрольные суммы
```

## Правила именования пакетов
- Имена должны быть короткими и осмысленными.
- Избегайте избыточных слов (`mypackageutils` → `utils`).
- Используйте единственное число (`models` → `model`).

## Видимость переменных, функций и типов (экспорт и импорт)
- **Экспортируемые** (public) объекты начинаются с заглавной буквы:
  ```go
  package mypackage
  func PublicFunc() {}
  ```
- **Неэкспортируемые** (private) объекты начинаются со строчной буквы:
  ```go
  package mypackage
  func privateFunc() {}
  ```

## Поиск пакетов на [pkg.go.dev](https://pkg.go.dev)
Можно искать сторонние библиотеки и просматривать их документацию.

## Пример использования внешнего пакета
```go
package main
import (
    "fmt"
    "github.com/google/uuid"
)

func main() {
    id := uuid.New()
    fmt.Println("Generated UUID:", id)
}
